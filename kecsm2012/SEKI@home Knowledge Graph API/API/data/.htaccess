# Don't show directory listings for URLs which map to a directory.
# Options -Indexes

# Follow symbolic links in this directory.
Options +FollowSymlinks

# Set the default handler to index.php:
DirectoryIndex index.php

# Various rewrite rules.
<IfModule mod_rewrite.c>
  RewriteEngine on
  
  # set base to the data subfolder
  RewriteBase /data/

  # Don't allow access to hidden files and folder (that begin with ".")
  RewriteRule "(^|/)\." - [F]

  # Redirect everyone to example.com instead of www.example.com
  #RewriteCond %{HTTP_HOST} ^www\.(.+)$ [NC]
  #RewriteRule ^ http://%1%{REQUEST_URI} [L,R=301]

  # Pass requests not referring directly to files in the filesystem to index.php
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteCond %{REQUEST_URI} !=/favicon.ico
  RewriteRule ^(.*)$ index.php?q=$1 [L]

</IfModule>
